<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="try.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <title>beta-test-game</title></head>
</head>
<style>
:root {
    font-family: 'Lato', sans-serif;
    font-size: 16px;
    outline: none ;

}







body {
   background-color: #3D405B;
   
} 
#body { /*  filter: blur(2px); */
}

.energyBar {
  position: relative;
  border-radius: 5px;
  height: 21px;
  background-color: rgb(120,50,50);
  overflow: hidden;
}

.energyFill {
  height: 100%;
  width: 10%;
  background: rgb(249,71,71);
  transition: all 1s;
}

.energyAm  {
  top: 50%;
  right: 5px;
  transform: translateY(-50%);
  font: bold;
  position: absolute; 
  color: white;
}

.header {
  position: fixed;
  margin: 0;
  padding: 0;
  background-color: black;
  height:65px;
  color: white;
  top: 0;
  left: 0;
  width: 100%;
  display: in-line block;
  z-index: 6969696969; 
}

header h3 {
    position: absolute;
    border: 2px solid rgb(255, 255, 255);
    border-style: ridge;
    padding: 7px 10px;
    display: inline-block;
    margin-left: 6px;
    margin-top: 12px;
    border-radius: 30px;
    color: white;
    width: auto;
    font-size: 1.5rem;
    z-index: initial;
}

header .demotext {
   color: red;
   font-size: .8rem;
   font-style: bold;
   margin: 12px 53px;
   width: 10px;
   position: fixed;
   z-index:  696969;
}

button {
    background-color: rgb(101,225,120);
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    outline: none;
    cursor: pointer;
    border-style: ridge;
    border-radius: 3px;
    font-weight: 700;
    border: rgb(101,225,120);
  }

.divs {
    width: 277px;
    padding: 10px;
    border: 5px solid rgb(101,219,120);
    margin: 10;
    background-color: #1c1d1c;
    color:white;
    border-radius: 5px;
    border-style : ridge;
}

.header .coins {
    width: 150px; length: 100px;
    padding: 0px;
    border: 2px solid rgb(200,219,95);
    display: inline-block;
    margin-top: 10px;
    margin-right: 10px; 
    background-color: #1c1d1c;
    color:white; 
    float: right;
    border-radius: 5px; 
    border-style: ridge;
    font-size: .85rem; display: none;
}

hr {
    border: 1px solid rgb(0, 0, 0);
  }

.explore {
  background-color: rgb(104,168,225) ;
}

.mult {
  color: rgb(220, 220, 99);
}

.cookies {
   color: rgba(240, 100, 50, 255);
}

.cookieRow {
   text-align: center;
   width:100%;
   height:57px;
   position: relative;
   margin-top: -10;
}

.cookieBut {
   display: in-line-block;
   font-size: 16px;
   padding: 15px 32px;
   margin: 10px 1px;
   width: 99px;
   float: center;
}

.cookieBut:after {
 content: "";
 clear: both;
 display:table;
}

.cookiePrice {
  text-align:center; color:white; 
  background-color:rgb(169,124, 69); 
  height: 20px; padding: 10px; margin-top: 10px;
}

.multiPrice {
   position: relative;
   text-align: center;
   margin-top: 10px;
   color:white; background-color:rgb(219, 200, 50); 
   height: 20px; padding: 10px;
}


.slfunc {
  width: 250px;
  border-radius: 5px;
  background-color: black;
}

.slfunc button{
   margin: 5px;
}

.save {
   background-color: rgb(240,130,130);
}


.load {
   background-color: rgb(101,225,120);
}

.blur {
  filter: blur(2px);
}

.username {
   display: flex;
   justify-content: center;
   height: 25vh;
   align-items: center;
   transform: translate(-50%, -50%);
   position: fixed; width: 80%;
   top: 50%; border-radius: 5px;
   left: 50%;  border: 2px solid;
   border-style: ridge; position: sticky relative; z-index: 99999999;
   background-color: rgb(150,150,150);
}

.username button {
 margin: auto .5vh 1vh .5vh;
 padding:1vh 6vh;
 background-color: black;
}

.usernametext {
   position: absolute;
   top: 10; left: 10;
   margin: 0; 
   font-weight: 700;
   background-color: white;
} 
.usernameI {
    border-radius: 5px;
    width: 96%;
    position:absolute;
    font-size:1.6rem;
    margin: 1.8vh auto 5vh auto;
    length: 5vh;
    box-sizing: border-box;
    border: 0; padding 10px;
    border-bottom: 2px solid;
    outline: none;
    font-family: 'Lato', sans-serif;
}

/* Smartphones (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 320px) 
and (max-device-width : 480px) {
/* Styles */
     
}

/* Smartphones (landscape) ----------- */
@media only screen 
and (min-width : 321px) {
/* Styles */
	.username {
			width: 50vh;
			height: 30vh;			
		}
}

/* Smartphones (portrait) ----------- */
@media only screen 
and (max-width : 320px) {
/* Styles */
 .username {
    width: 50vh;
    height: 30vh;
    }
}

/* iPads (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 480px) 
and (max-device-width : 1024px) {
/* Styles */
     .username {
        width: 70vh;
        height: 55vh; margin-top: 5vh;
     }
}

/* iPads (landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : landscape) {
/* Styles */
.username {
        width: 90vh;
     }
}

/* iPads (portrait) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : portrait) {
/* Styles */
.username {
        width: 90vh;
        height: 50vh;
     }
}

/* Desktops and laptops ----------- */
@media only screen 
and (min-width : 1224px) {
/* Styles */
}

/* Large screens ----------- */
@media only screen 
and (min-width : 1824px) {
/* Styles */

}

/* iPhone 4 ----------- */
@media
only screen and (-webkit-min-device-pixel-ratio : 1.5),
only screen and (min-device-pixel-ratio : 1.5) {
/* Styles */
}



#energyInd {
   color: white;
     
}
</style>

    <header class="header"><h3 class="title">XD</h3><p class="demotext"><strong>DEMO!</strong>
    <div class="coins">
    <p id="coinsVal" style="text-align:center; padding: 0px;">0 coins</p>
    </div></header></p>
    <div class="username">
    <span class="usernametext"> USERNAME</span> 
    <input class="usernameI" type="text" placeholder=" Your username" id="userN"></input>
    <button onclick="newGame()">NEW GAME</button>
    <button onclick="sessionLoad(), closeD()" class="load">LOAD GAME</button></div>
<body id="body">

    <div id="blur"class="blur">
    <br><br><br><br>
    <center>
        <button id="workBtn"onclick= "work()">WORK</button>
        <button id="exploreBtn" onclick= "explore()" class="explore">EXPLORE</button><hr></hr>
    <div class="divs">
        <p id="impNotice">Welcome to <strong>XD DEMO GAME</strong> !</p>
        <p>---------------------</p>
        <p id="dialogue">
        (◡ ω ◡)
        <br>THE SAVE AND LOAD FUNCTION ARE NOW IMPLEMENTED TO THE GAME<br><br> DON'T FORGET TO SAVE YOUR PROGRESS!!!
        <br><br>You also get free 69 cookies<br> for trying out the game!</p>
        <p>---------------------</p>
        <p id="userName"></p>
    </div>
    <hr> </hr>
    </center>
      
      <br> <strong id ="energyInd">ENERGY 900/900 </strong><div class="energyBar">
      <div class="energyFill"></div>
      <span class="energyAm">0%</span>
      </div>
      
        
      <br>
    <center>  <div style= "position: relative; margin-right:1px;background-color:black; height: 149px; padding: 5.6px; border-radius: 5px;">
        <p style="color:white;" id="currentMulti">You currently have <strong class="mult">1%</strong> multiplier.</p>
      <button onclick="upgrade()" id="upgrade" style="display: flex; justify-content: center; align-items: center;">UPGRADE</button>
        <p style="color:white;" id="price" class="multiPrice">20,000 coins</p></div><br> <br>
        
        <div style= "background-color:black; height: 150px; padding: 5.6px; border-radius: 5px;">
        <p style="color:white;"id="currentCookies">You currently have <strong class="cookies">0</strong> cookies.</p>
        <div class="cookieRow">
        <button onclick="cookCookie()" id="cookieCook" class="cookieBut" style="width: 100px;">COOK</button>
        <button onclick="eatCookie()" id="cookieEat" class="cookieBut">EAT</button></div>
        <p style=" height: 20px; padding: 10px;" id="cookiePrice" class="cookiePrice"> 500 coins</p></div></center>
        </body>
        
        
        <br> <center><div class="slfunc"><button onclick="saveState()" class="save">SAVE</button>
        <button onclick="sessionLoad()" class="load">LOAD</button></div></center>
   </div>  
    <script>
        var coins = 0;
        var price = 20000;
        var multiplier = 1;
        var cookies = 69;
        var cPrice = 500;
        var username = null;
        var maxEnergy = 900;
        var energy = 900;
        var notice ="";
        var start = 0;
        
      /*  var multiS: "";
        var multiSc= "";*/
        var numSel = 0;
        var docId = function (id) { return document.getElementById(id); } ;
        var $save = function (id, value) { return localStorage.setItem(id, value)} ;
        var buttons = [docId("workBtn"),
        docId("exploreBtn"),
        ];
        
        var percentageCal = 0;
        var delem= docId("dialogue");
        const myEnergyBar = document.querySelector(".energyBar");
        const blurEff = docId("blur");
     
        function oTh(val, min, max) {
			    return val < min ? min : (val > max ? max : val);
        }
        
        function closeD(){        
                blurEff.setAttribute("style", "filter: blur(0px)"); 
	        document.querySelector(".username").style.display = "none";
	        document.querySelector(".coins").style.display = "block";
	        update();
	    }
        
        function newGame() {
                   var nullIf = docId("userN");
                   username = nullIf.value;
                   if (nullIf.value === "") {
                      username = null;
                   }
                   closeD();
        }
         
        function saveState() {
           $save("coins", coins);
           $save("multiplier", multiplier);
           $save("price", price);
           $save("cookies", cookies);
           $save("username", username);
        }
        
        function sessionLoad(){
           
           coins = parseInt(localStorage.getItem("coins"));
           multiplier = parseFloat(localStorage.getItem("multiplier"));         
           price = parseInt(localStorage.getItem("price"));
           cookies = parseInt(localStorage.getItem("cookies"));
           username = localStorage.getItem("username");
          
           update()
        }
        
        function receiveAm(miNcap, maXcap) {
           
           return Math.round((miNcap - 0.5) + Math.random() * (maXcap - miNcap + 1)); 
        } 
        
        
        function work() {
         if (energy > 0) {
         var workAmount= [
          /*1*/receiveAm(300,2000), 
          /*2*/receiveAm(12000,5000),
          
          ];
            numSel = Math.floor(Math.random() * 2);
            var multAm = Math.round((workAmount[numSel] / 100) * multiplier);
            var workRandom = [/*1*/`You worked and got <strong> ${addCommas(workAmount[numSel] + multAm)} </strong> coins.`,
                             /*2*/`You stayed in the office for 24 hours, Your boss was satisfied with you work. You got <strong> ${addCommas(workAmount[numSel] + multAm)} </strong> coins.`
          ];
            var energySp = [100, 600
             
          ];
            delem.innerHTML = workRandom[numSel];
            coins += Math.round(workAmount[numSel] + multAm);
            energy = oTh(energy - energySp[numSel],0,maxEnergy);
            console.log(energySp[numSel]);
            update();}
         } 

        function explore(){
            if (energy > 0) {
            numsel = Math.floor(Math.random() * 2);     
            var amount =  Math.round(Math.floor(Math.random() * 5000) + 522 * multiplier);
            var multAm = Math.round((amount / 100) * multiplier);
            docId("dialogue").innerHTML = "You explored the amazon rainforest and got <strong>" + addCommas(amount + multAm) + "</strong> coins";
            coins += Math.round(amount) + multAm;
            energy -= 100;
            update();}
        }
       
        function addCommas(x) {
           return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        function upgrade(){
           var multiCap = 1;
           if (coins < price){
           return;
           } else if (coins > price){
           if ( multiplier > 10) {
           multiCap = 1.2;
           } 
           coins -= price;
           multiplier = multiplier + 0.1369;
           
           delem.innerHTML = `You upgraded your multiplier for <strong> ${addCommas(price)} </strong> coins.`;
           price = Math.round((multiCap * 1.5) * price);
           update();
           
           }
        }
        
        function updateEnergyBar (test, value) {
          value = Math.round(value);
          
         test.querySelector(".energyFill").style.width = `${value}%`; 
         test.querySelector(".energyAm").textContent = `${value}%`;
         
        }
        
        function cookCookie(){
             if (coins < cPrice) {
                 return
             } else if (coins > cPrice){
                delem.innerHTML = "You baked <strong> 1 </strong> cookie.";
                coins -= cPrice;
                cookies++;
                update();
             } 
        }
        
        function eatCookie(){
              if(cookies > 0){
                 if (energy == maxEnergy){
                    delem.innerHTML = "You're already full, you can't eat more cookies.";
                 } else {
                 cookies = cookies - 1;
                 delem.innerHTML = "You ate a cookie and replenished a bit of your energy.";
                 energy += maxEnergy / 100 * 20;
                 update(); }
              } else if (cookies <= 0) {
              delem.innerHTML= "YOU DON'T HAVE A COOKIE TO EAT DUMBASS.";
              } 
        }
        
        function update(){
			        if(coins < 1){ 
			          multiSc = "";
			        } else if (coins >= 1) {
			          multiSc = "s";
			        }
			        start++;
			        if (start == 1){docId("impNotice").innerHTML = "Welcome to <strong>XD DEMO GAME</strong> !";}
			        else if (start > 1) {docId("impNotice").innerHTML = notice;}
			        docId("userName").innerHTML = `<strong>${username}</strong>'s journey`; 
			        docId("coinsVal").innerHTML = "<strong>" + addCommas(coins) + "</strong> coin" + multiSc;
					
			        docId("price").innerHTML = "<strong>" + addCommas(price) + "</strong> coins";			
			        docId("currentMulti").innerHTML = "You currently have a <strong class='mult'>" + multiplier.toFixed(1) + "%" + "</strong> multiplier.";
			        docId("currentCookies").innerHTML = "You currently have <strong class='cookies'>" + cookies + "</strong> cookies.";
			        energy = oTh(energy,0,maxEnergy);
			        percentageCal = oTh((energy / maxEnergy) * 100, 0, 100); 
				    docId("energyInd").innerHTML = `ENERGY ${energy}/${maxEnergy}`;
					updateEnergyBar(myEnergyBar, percentageCal);
					if (energy === 0){
					   delem.innerHTML = "You are already tired. Eat some cookies to replenish a portion of your energy.";
					   
					   docId("impNotice").innerHTML = "<strong style='color:rgb(240,130,130);'>!!! EXHAUSTED !!!</strong>";
					};
					if (username === "cookiemonsterxd") {
					
					
					
					cookies = parseInt(localStorage.getItem("cookies")) + 6969;
						delem.innerHTML = `hello bae, eto na yung cookies mo (. ❛ ᴗ ❛.)<br> You've been given <strong> 6969</strong> cookies by the developer.<br>You now have ${cookies} amount of cookies<br> i love you!!(~￣³￣)~`;
						
						docId("impNotice").innerHTML = "<strong style='color:rgb(240,130,130);'>" + "!!! IMPORTANT MESSAGE !!!</strong>";
						docId("currentCookies").innerHTML = "You currently have <strong class='cookies'>" + cookies + "</strong> cookies.";
						
			        };
			        
			        
		 
        
      };
    </script>
</center>
</body>
</html>
